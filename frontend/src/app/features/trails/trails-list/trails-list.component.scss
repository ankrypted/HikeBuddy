@use 'styles/variables' as v;

// ─── Page wrapper ───────────────────────────────────────────────────────
.list-wrapper {
  position:       relative;
  z-index:        1;
  min-height:     100vh;
  display:        flex;
  flex-direction: column;
  background: linear-gradient(180deg,
    rgba(5, 13, 25, 0.68) 0%,
    rgba(5, 13, 25, 0.90) 25%,
    rgba(5, 13, 25, 0.96) 60%
  );
}

:host(.in-shell) .list-wrapper {
  background: transparent;
}

// ─── Content container ──────────────────────────────────────────────────
.trails-main {
  max-width: 860px;
  width:     100%;
  margin:    0 auto;
  padding:   2.5rem 2rem 4rem;
  display:   flex;
  flex-direction: column;
  gap:       2rem;
}

// ─── Page header ────────────────────────────────────────────────────────
.trails-header { padding-top: 1rem; }

.trails-title {
  font-size:      clamp(2.2rem, 5vw, 3.4rem);
  font-weight:    800;
  line-height:    1.1;
  letter-spacing: -0.02em;
  margin-bottom:  0.4rem;
}

.trails-subtitle {
  font-size: 0.95rem;
  color:     v.$text-muted;
}

// ─── List ────────────────────────────────────────────────────────────────
.trails-list {
  list-style: none;
  padding:    0;
  margin:     0;
  display:    flex;
  flex-direction: column;
  gap:        1rem;
}

// ─── Trail row ───────────────────────────────────────────────────────────
.trail-row {
  display:     flex;
  align-items: center;
  gap:         1.5rem;
  border-radius: 16px;
  overflow:    hidden;
  cursor:      pointer;
  transition:  transform 0.2s, border-color 0.2s;

  &:hover {
    transform:    translateY(-2px);
    border-color: rgba(126, 203, 63, 0.40);
  }

  &:focus-visible {
    outline:        2px solid v.$accent-green;
    outline-offset: 2px;
  }
}

// ─── Difficulty colour-band thumbnail ────────────────────────────────────
.trail-thumb {
  flex-shrink:     0;
  width:           90px;
  align-self:      stretch;
  display:         flex;
  align-items:     center;
  justify-content: center;
  writing-mode:    vertical-rl;
  text-orientation: mixed;

  &--easy   { background: linear-gradient(160deg, rgba(63, 185, 80, 0.30), rgba(63, 185, 80, 0.10)); }
  &--moderate { background: linear-gradient(160deg, rgba(255, 180, 0, 0.28), rgba(255, 180, 0, 0.08)); }
  &--hard   { background: linear-gradient(160deg, rgba(255, 90, 50, 0.28), rgba(255, 90, 50, 0.08)); }
  &--expert { background: linear-gradient(160deg, rgba(200, 40, 40, 0.28), rgba(200, 40, 40, 0.08)); }
}

.thumb-label {
  font-size:      0.62rem;
  font-weight:    700;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  opacity:        0.55;
}

// ─── Trail details ────────────────────────────────────────────────────────
.trail-body {
  flex: 1;
  padding: 1.4rem 0;
  min-width: 0;
}

.trail-chips {
  display:   flex;
  flex-wrap: wrap;
  gap:       0.4rem;
  margin-bottom: 0.75rem;
}

.chip {
  display:        inline-flex;
  align-items:    center;
  padding:        0.22rem 0.65rem;
  border-radius:  2rem;
  font-size:      0.72rem;
  font-weight:    600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  background:     rgba(255, 255, 255, 0.08);
  border:         1px solid rgba(255, 255, 255, 0.14);
  color:          v.$text-muted;

  &--easy     { background: rgba(63, 185, 80, 0.18);  border-color: rgba(63, 185, 80, 0.4);  color: #7edb5a; }
  &--moderate { background: rgba(255, 180, 0, 0.15);  border-color: rgba(255, 180, 0, 0.4);  color: #ffc940; }
  &--hard     { background: rgba(255, 90, 50, 0.15);  border-color: rgba(255, 90, 50, 0.4);  color: #ff7a55; }
  &--expert   { background: rgba(200, 40, 40, 0.15);  border-color: rgba(200, 40, 40, 0.4);  color: #ff5555; }
}

.trail-name {
  font-size:      1.4rem;
  font-weight:    800;
  letter-spacing: -0.01em;
  line-height:    1.15;
  margin-bottom:  0.3rem;
}

.trail-region {
  font-size:    0.85rem;
  color:        v.$text-muted;
  margin-bottom: 0.75rem;
}

.trail-rating {
  display:     flex;
  align-items: center;
  gap:         0.4rem;
}

.stars { display: flex; gap: 2px; }

.star {
  font-size: 0.9rem;
  color:     rgba(255, 255, 255, 0.20);
  &--filled { color: #ffc940; }
}

.rating-value {
  font-size:   0.85rem;
  font-weight: 700;
  color:       #fff;
}

.rating-count {
  font-size: 0.78rem;
  color:     v.$text-muted;
}

// ─── Save-row button ──────────────────────────────────────────────────────
.save-row-btn {
  background:      none;
  border:          none;
  color:           rgba(255, 255, 255, 0.35);
  cursor:          pointer;
  width:           36px;
  height:          36px;
  display:         flex;
  align-items:     center;
  justify-content: center;
  border-radius:   50%;
  padding:         0;
  flex-shrink:     0;
  transition:      color 0.2s, background 0.2s;

  svg { width: 18px; height: 18px; display: block; }

  &:hover          { color: #fff; background: rgba(255, 255, 255, 0.08); }
  &--saved         { color: v.$accent-green; }
  &--saved:hover   { color: #f08080; }
}

// ─── Arrow ────────────────────────────────────────────────────────────────
.trail-action {
  flex-shrink:  0;
  padding:      0 1.5rem;
  display:      flex;
  align-items:  center;
  gap:          0.25rem;
}

.arrow-icon {
  font-size:  1.4rem;
  color:      v.$accent-green;
  opacity:    0.7;
  transition: opacity 0.2s, transform 0.2s;

  .trail-row:hover & {
    opacity:   1;
    transform: translateX(4px);
  }
}

// ─── State messages ────────────────────────────────────────────────────────
.state-message {
  padding:    4rem 2rem;
  text-align: center;
  color:      v.$text-muted;
  font-size:  1rem;

  &--error { color: #e07070; }
}

// ─── Responsive ─────────────────────────────────────────────────────────
@media (max-width: v.$bp-md) {
  .trails-main { padding: 1.5rem 1.25rem 3rem; }
  .trail-thumb { width: 60px; }
  .trail-name  { font-size: 1.2rem; }
}

@media (max-width: v.$bp-sm) {
  .trail-thumb  { display: none; }
  .trail-action { padding: 0 1rem; }
}
