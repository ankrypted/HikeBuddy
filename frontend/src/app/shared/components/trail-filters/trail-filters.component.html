<div class="filters-bar glass">

  <!-- Search -->
  <label class="search-wrap">
    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
         stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
    </svg>
    <input
      class="search-input"
      type="search"
      placeholder="Search trailsâ€¦"
      autocomplete="off"
      [value]="search()"
      (input)="setSearch($any($event.target).value)"
    />
    @if (search()) {
      <button class="search-clear" type="button" aria-label="Clear search" (click)="setSearch('')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
             stroke-linecap="round" aria-hidden="true">
          <path d="M18 6 6 18M6 6l12 12"/>
        </svg>
      </button>
    }
  </label>

  <!-- Difficulty pills + selects -->
  <div class="filters-row">

    <div class="pill-group" role="group" aria-label="Filter by difficulty">
      @for (d of difficulties; track d) {
        <button
          class="pill"
          [class.pill--active]="difficulty() === d"
          [class.pill--easy]="d === 'EASY'"
          [class.pill--moderate]="d === 'MODERATE'"
          [class.pill--hard]="d === 'HARD'"
          [class.pill--expert]="d === 'EXPERT'"
          type="button"
          (click)="setDifficulty(d)"
        >{{ diffLabel[d] }}</button>
      }
    </div>

    <div class="select-group">
      <select
        class="filter-select"
        [value]="region()"
        (change)="setRegion($any($event.target).value)"
        aria-label="Filter by region"
      >
        <option value="">All regions</option>
        @for (r of regions(); track r) {
          <option [value]="r">{{ r }}</option>
        }
      </select>

      <select
        class="filter-select"
        [value]="sort()"
        (change)="setSort($any($event.target).value)"
        aria-label="Sort trails"
      >
        <option value="rating">Top Rated</option>
        <option value="dist-asc">Shortest First</option>
        <option value="dist-desc">Longest First</option>
        <option value="dur-asc">Quickest First</option>
      </select>
    </div>

  </div>
</div>
